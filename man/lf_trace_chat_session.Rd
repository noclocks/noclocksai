% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/langfuse.R
\name{lf_trace_chat_session}
\alias{lf_trace_chat_session}
\title{Trace a Chat Interaction within a Session}
\usage{
lf_trace_chat_session(
  chat,
  message,
  session_id,
  langfuse_client,
  user_id = NULL,
  metadata = NULL
)
}
\arguments{
\item{chat}{An ellmer chat object}

\item{message}{User message}

\item{session_id}{Session ID for grouped traces from \code{lf_create_session()}}

\item{langfuse_client}{Langfuse client configuration from \code{lf_client()}}

\item{user_id}{Optional user ID}

\item{metadata}{Optional metadata}
}
\value{
The chat response with trace_id and session_id attributes
}
\description{
Sends a message to an ellmer chat and tracks the interaction with Langfuse
within a defined session.
}
\examples{
\dontrun{
# Create a langfuse client and session
lf_client <- lf_client()
session_id <- lf_create_session(name = "Learning Session", langfuse_client = lf_client)

# Create a chat
chat <- ellmer::chat_openai(model = "gpt-4")

# Trace chat interactions in the session
response1 <- lf_trace_chat_session(
  chat = chat,
  message = "What are the main features of R?",
  session_id = session_id,
  langfuse_client = lf_client
)

response2 <- lf_trace_chat_session(
  chat = chat,
  message = "Tell me more about data visualization in R",
  session_id = session_id,
  langfuse_client = lf_client
)
}
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/embed.R
\name{embeddings}
\alias{embeddings}
\alias{embed_openai}
\alias{embed_ollama}
\title{Embeddings}
\usage{
embed_openai(
  text,
  base_url = get_api_url("openai", "embeddings"),
  model = c("text-embedding-3-small", "text-embedding-3-large"),
  dims = NULL,
  user = NULL,
  batch_size = 20L,
  api_key = get_openai_api_key()
)

embed_ollama(
  text,
  base_url = "http://localhost:11434/api/embeddings",
  model = "llama3",
  batch_size = 10L
)
}
\arguments{
\item{text}{Character string to embed. Can be one of the following:
\itemize{
\item A character vector, in which case a matrix of embeddings is returned.
\item A \code{data.frame} with a column named \code{text}, in which case the \code{data.frame} is returned with
an additional column added named \code{embedding}.
\item Missing of \code{NULL}, in which case a function is returned that can be called to get embeddings.
}}

\item{base_url}{The base URL for the API. Default depends on the embedding provider.}

\item{model}{The model to use for the embedding. Default depends on the embedding provider.}

\item{dims}{Number of dimensions for the embedding (if supported by the model).}

\item{user}{User identifier for the embedding request (if supported by the provider).}

\item{batch_size}{The batch size to use for the embedding. This will split \code{text} into batches when embedding.}

\item{api_key}{The API key to use for the embedding. Default is obtained from the appropriate configuration.}
}
\value{
If \code{text} is a character vector, a matrix of embeddings is returned.
If \code{text} is a \code{data.frame}, the \code{data.frame} is returned with an additional column named \code{embedding}.
If \code{text} is missing or \code{NULL}, a function is returned that can be called to get embeddings.
}
\description{
These functions generate text embeddings using external APIs.

Functions:
\itemize{
\item \code{embed_openai()}: Generate text embeddings using OpenAI's API.
\item \code{embed_ollama()}: Generate text embeddings using Ollama's API.
}
}
\examples{
\dontrun{
# Get embeddings for a single string
embedding <- embed_openai("This is a test sentence.")

# Get embeddings for multiple strings
embeddings <- embed_openai(c("First sentence", "Second sentence"))

# Add embeddings to a data frame
df <- data.frame(text = c("First", "Second", "Third"))
df_with_embeddings <- embed_openai(df)
}
}
